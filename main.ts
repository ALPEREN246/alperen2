controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        f f f f f f f f f f f f f f f f 
        f f f f f . . . . . . f f f f f 
        f 2 2 2 f . . . . . . f 2 2 2 f 
        f 2 2 2 f . . . . . . f 2 2 2 f 
        f 2 2 2 f . . . . . . f 2 2 2 f 
        f 4 4 4 f . . . . . . f 4 4 4 f 
        f 4 9 4 f . . . . . . f 4 9 4 f 
        f 4 9 4 f . . . . . . f 4 9 4 f 
        f 4 4 4 f . . . . . . f 4 4 4 f 
        f 4 9 4 f . . . . . . f 4 9 4 f 
        f 4 9 4 f . . . . . . f 4 9 4 f 
        f 4 4 4 f . . . . . . f 4 4 4 f 
        f 4 4 4 f . . . . . . f 4 4 4 f 
        f 4 4 4 f . . . . . . f 4 4 4 f 
        f 4 4 4 f . . . . . . f 4 4 4 f 
        f f f f f f f f f f f f f f f f 
        `, spritePlayer, 0, -60)
    projectile.y += -12
    projectile.z += -1
})
function MainScreen () {
    main_screen = sprites.create(img`
        ffffffffffffffffffffffffffffffff
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888111188811118881111888f
        f888881888188188818818881881188f
        f888811888181188818811881881188f
        f888881888111188888818881111888f
        f888881888888188888118888811888f
        f888881888881888888818888818888f
        f888881888881888888818888818888f
        f888881888881888888818888188888f
        f888888888888888118818881188888f
        f888888888888888811118881888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        f888888888888888888888888888888f
        ffffffffffffffffffffffffffffffff
        `, SpriteKind.Player)
    main_screen.z += 99
    main_screen.bottom += 88
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    enemysprite.destroy()
    otherSprite.destroy(effects.disintegrate, 500)
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    otherSprite.destroy()
    spritePlayer.startEffect(effects.fire, 100)
    info.changeLifeBy(-1)
})
let enemysprite: Sprite = null
let main_screen: Sprite = null
let projectile: Sprite = null
let spritePlayer: Sprite = null
game.showLongText("", DialogLayout.Bottom)
spritePlayer = sprites.create(img`
    ................................
    ................................
    .............fff................
    .............fff................
    .............fff................
    .............fff................
    ...........fffffff..............
    ...........f99999f..............
    ...........f99999f..............
    ..........ff99999ff.............
    ..........f9999999f.............
    .........ffffffffffff...........
    ........f2f8888888f2f...........
    .......ff2f8888888f22f..........
    .....ff222f8888888f22ffff.......
    ....ff2222f8888888f22222fff.....
    ...ff22222f8888888f2222222ff....
    ..ff222222f8888888f22222222ff...
    ..f222222fffffffffff2222ffffff..
    .ffffffffff8888888fffffff.......
    ..........f8888888f.............
    ..........f8888888f.............
    ..........f8888888f.............
    ..........f8888888f.............
    ..........f8888888f.............
    ..........f8888888f.............
    ..........f8888888f.............
    .........fffffffffff............
    .........f444444444ff...........
    ........ff4444444444f...........
    .......fffffffffffffff..........
    ................................
    `, SpriteKind.Player)
spritePlayer.setStayInScreen(true)
spritePlayer.bottom += 88
controller.moveSprite(spritePlayer, 100, 0)
info.setLife(3)
game.onUpdateInterval(500, function () {
    enemysprite = sprites.create(img`
        ................................
        ................................
        ...........fffffff..............
        ..........ff88f88ff.............
        ..........f888f888f.............
        .........ff888f888ff............
        .........f8888f8888f............
        .........fffffffffff............
        ..........fffffffff.............
        .............2f2................
        .............2f2................
        .............2f2................
        .............2f2................
        .............2f2................
        ..........fffffff...............
        .......ffff999f9fffff...........
        .....fff999999f99999fff.........
        ....ff99999999f9999999ffff......
        ..fff999999999f9999999999ff.....
        .ff999999999ffffff99999999ff....
        .f99999999ff77f77ffff999999f....
        .f9999999fff77f77f...ff9999f....
        .f999999ff.f77f77f....fffff.....
        ..ffffff...f77f77f..............
        ...........f77f77f..............
        ...........f77f77f..............
        ...........ff7f7ff..............
        ............fffff...............
        .............fff................
        .........ffffffffff.............
        ................................
        ................................
        `, SpriteKind.Enemy)
    enemysprite.setVelocity(0, 76)
    enemysprite.setPosition(randint(32, 128), 0)
})
